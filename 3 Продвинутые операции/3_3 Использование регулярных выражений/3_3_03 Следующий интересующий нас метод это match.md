Следующий интересующий нас метод это match().

Он принимает в качестве аргумента регулярное выражение (или преобразовывает в него аргумент подобно предыдущим методам), а в качестве результата возвращает массив всех найденных соответствий.

var myString = "У дедушки в деревне было 12 яблонь, 5 кустов смородины, 10 кур и 33 коровы";
result = myString.match(/\d{2}/g);
В данном примере мы записали в регулярное выражение обозначение цифры "\d", указали что ищем её двойное повторение "{2}" и включили флаг глобального поиска "g". В результате в переменной result окажется массив [12, 10, 33].

Однако если флаг глобального поиска не будет указан, то в массив попадет только первое совпадение, оно запишется нулевым элементом. Остальными элементами массива будут подстроки, соответствующие всем подвыражениям, если таковые имеются.






Иванов Сергей
2 года назад
Он принимает в качестве аргумента регулярное выражение (или преобразовывает в него аргумент подобно предыдущим методам), а в качестве результата возвращает массив всех найденных соответствий.

var myString = "У дедушки в деревне было 12 яблонь, 5 кустов смородины, 10 кур и 33 коровы";
result = myString.match(/\d{2}/g);
 

При решении задачи в конце блока столкнулся с тем, что метод не преобразовывает строку  в регулярку,  если ее передать в качестве аргумента: 

result = myString.match("/\d{2}/g");  - вернет null

var reg_ex = "/\d{2}/g";

result = myString.match(reg_ex);  - вернет null


хуже того:

var reg_ex = new RegExp("\d{2}"); // да, и с g, и без g

result = myString.match(reg_ex);  - вернет null

typeof reg_ex;  - вернет 'Object'

 

ЧЯДНТ?

 

User avatar
Py Sho
2 года назад
@Иванов_Сергей,  во всех случаях основная проблема - одиночные обратные слэши \, которые в строках просто уничтожаются, если за ними не идёт символ, который можно экранировать

также в первых двух вариантах лишние / и g, которые воспринимаются как просто текст

в третьем варианте флаг g надо передавать вторым строковым параметром и это видимо единственный вменяемый вариант решения задачи при помощи строки, передаваемой в конструктор (метод удобен при изменении регулярки или использования переменных при создании), а не литеральной записи (обычно используется если регулярка сразу известна и не меняется):

var myString = "У дедушки в деревне было 12 яблонь, 5 кустов смородины, 10 кур и 33 коровы";

var reg_ex = new RegExp("\\d{2}", 'g');

result = myString.match(reg_ex);

и тогда получится ожидаемый вывод: ['12', '10', '33'] 

кстати, все это описано далее в курсе: https://stepik.org/lesson/51493/step/6?unit=29774